<!-- 1. create HTML5 doctype -->
<!DOCTYPE html>
<html>
    <head>
    <meta charset="UTF-8">  
    
    <!-- 2. include meta tag to ensure proper rendering and touch zooming -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 
    Bootstrap is designed to be responsive to mobile.
    Mobile-first styles are part of the core framework.
    
    width=device-width sets the width of the page to follow the screen-width
    initial-scale=1 sets the initial zoom level when the page is first loaded   
    -->
    
    <meta name="author" content="your name">
    <meta name="description" content="include some description about your page">  
        
    <title>Create an Account</title>
    
    <!-- 3. link bootstrap -->

    <!-- if you choose to use CDN for CSS bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    
    
    <!-- 
    Use a link tag to link an external resource.
    A rel (relationship) specifies relationship between the current document and the linked resource. 
    -->
    
    <!-- if you choose to download bootstrap and host it locally -->
    <!-- <link rel="stylesheet" href="path-to-your-file/bootstrap.min.css" /> --> 
    
    <!-- include your CSS -->
    <link rel="stylesheet" href="CSS/styles.css">
        
    </head>

    <body onload = "setFocus()">
        <div class="container">
            <div class = "row justify-content-md-center">
                <div class = "col-md-8">
                    <h2 style = "text-align: center;" class = "m-4"> Create an Account </h2>
                    <!-- <p>Please fill out this form to create an account.</p> -->
                    <div class = "card">
                        <form id = "form" class = "form m-5" onsubmit="passwordVerify()">
                            <div id="form_name" class="form-group">
                                <label>Full Name</label>
                                <input type="full_name" name="full_name" id="full_name" class="form-control" onkeyup="usernameVerify()" required />
                                <p id="user_msg" class="feedback"></p>
                            </div>
                            <div id="form_email" class="form-group">
                                <label>Email Address</label>
                                <input type="text" name="email" id="email" class="form-control" onkeyup = "emailVerify()" required />
                                <p id = "email_message" class = "feedback"></p>
                            </div>
                            <div id="form_password"  class="form-group">
                                <label>Password</label>
                                <input type="password" name="password" id="password" class="form-control" onkeyup="passwordVerify()" value="" required />
                                <p>Password must contain the following:</p>
                                <ul>
                                    <li id='length'>Minimum 6 characters</li>
                                    <li id='number'>A number</li>
                                    <li id='upper'>An uppercase letter</li>
                                    <li id='lower'>A lowercase letter</li>
                                </ul>
                            </div>
                            <div id="form_confirm" class="form-group">
                                <label>Confirm Password</label>
                                <input type="password" name="confirm_password" id="confirm_password" class="form-control" onkeyup="confirmPasswordVerify()" value="" required />
                                <p id=confirm_msg class="feedback"></p>
                            </div>
                            <div class="form-group">
                                <input type="button" name="submit" id="submit_btn" class="btn btn-primary btn-lg btn-block" onclick="passwordVerify()" value="Create Account">
                            </div>
                            <p style="text-align: center;">Already have an account? <a href="login.html">Login</a>.</p>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </body>

    <script>
        function setFocus(){
            document.getElementById('full_name').focus();
        }

        function usernameVerify(){
            var form_name = document.getElementById('form_name');
            var full_name = document.getElementById('full_name').value;
            var user_msg = document.getElementById('user_msg');

            if(full_name != ""){
                form_name.classList.add('valid');
                form_name.classList.remove('invalid');
                user_msg.textContent = ""
                return true;
            }
            else{
                form_name.classList.remove('valid');
                form_name.classList.add('invalid');
                user_msg.textContent = "Please enter a name"
                user_msg.style.color ="#ff0000" 
                return false;
            }
        }
        
        function passwordVerify(){
            var form_password = document.getElementById('form_password');
            var upper = document.getElementById('upper');
            var lower = document.getElementById('lower');
            var number = document.getElementById('number');
            var length = document.getElementById('length');
            var password = document.getElementById('password').value;
            //var text = document.getElementById('password_message');

            //Validate uppercase letter
            var upperCase = /[A-Z]/g;
            if(password.match(upperCase)){
                upper.classList.add('valid');
                upper.classList.remove('invalid');
                upper.style.color = "green";
            }
            else{
                upper.classList.remove('valid');
                upper.classList.add('invalid');
                //text.textContent = "Please Enter Valid UpperCase";
                upper.style.color = "#ff0000";
            }

            //Validate lowercase letter
            var lowerCase = /[a-z]/g;
            if(password.match(lowerCase)){
                lower.classList.add('valid');
                lower.classList.remove('invalid');
                lower.style.color = "green";
            }
            else{
                lower.classList.remove('valid');
                lower.classList.add('invalid');
                //text.textContent = "Please Enter Valid LowerCase";
                lower.style.color = "#ff0000";
            }

            //Validate number
            var numVal = /[0-9]/g;
            if(password.match(numVal)){
                number.classList.add('valid');
                number.classList.remove('invalid');
                number.style.color = "green";
            }
            else{
                number.classList.remove('valid');
                number.classList.add('invalid');
                //text.textContent = "Please Enter Valid Number";
                number.style.color = "#ff0000";
            }

            //Validate length
            if(password.length >= 6){
                length.classList.add('valid');
                length.classList.remove('invalid');
                length.style.color = "green";
            }
            else{
                length.classList.remove('valid');
                length.classList.add('invalid');
                //text.textContent = "Please Enter Valid Length";
                length.style.color = "#ff0000";
            }

            if(length.classList == 'valid' && number.classList == 'valid' && lower.classList == 'valid' && upper.classList == 'valid'){
                form_password.classList.add('valid');
                form_password.classList.remove('invalid');
                return true;
            }
            else{
                form_password.classList.remove('valid');
                form_password.classList.add('invalid');
                return false;
            }

            if (password == ""){
                upper.classList.remove("valid");
                upper.classList.remove("invalid");
                lower.classList.remove("valid");
                lower.classList.remove("invalid");
                number.classList.remove("valid");
                number.classList.remove("invalid");
                length.classList.remove("valid");
                length.classList.remove("invalid");
                form_password.classList.remove("valid");
                form_password.classList.remove("invalid");
                upper.style.color = "black";
                lower.style.color = "black";
                number.style.color = "black";
                length.style.color = "black";
                
            }
        }

        function confirmPasswordVerify(){
            var form_confirm = document.getElementById('form_confirm');
            var x = document.getElementById('password').value;
            var y = document.getElementById('confirm_password').value;
            var text = document.getElementById('confirm_msg');
            if (x == y){
                //document.getElementById('password_message').innerHTML = "Passwords match";
                form_confirm.classList.add('valid');
                form_confirm.classList.remove('invalid');
                text.textContent = "";
                return true;

            }
            else{
                //document.getElementById('password_message').innerHTML = "Passwords do not match";
                form_confirm.classList.remove('valid');
                form_confirm.classList.add('invalid')
                text.textContent = "Passwords do not match";
                text.style.color = "red";
                return false;
            }

        }

        function emailVerify(){
            var form = document.getElementById('form_email');
            var email = document.getElementById('email').value;
            var text = document.getElementById('email_message');
            var pattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;

            if (email.match(pattern)){
                form.classList.add("valid");
                form.classList.remove("invalid");
                text.textContent = "";
                //text.style.color = "#00ff00";
                return true;
            }
            else{
                form.classList.remove("valid");
                form.classList.add("invalid");
                text.textContent = "Please Enter Valid Email Address";
                text.style.color = "#ff0000";
                
            }

            if (email == ""){
                form.classList.remove("valid");
                form.classList.remove("invalid");
                text.textContent = "";
                text.style.color = "#00ff00";
            }
        }

    </script>
</html>